# 동기화

# [운영체제] CHAPTER 6

### ⏰ 40 min ( 3 combo )

## First Combo

---

> 태현이는 열심히 노력하고 준비한 끝에 앞선 과정을 돌파하고 “JJW” 최종 면접 자리에 도달했습니다. 텔레파시로 답안을 작성해서 태현이의 면접을 도와주자 !
> 

### 1 - 1. 저희 JJW에는 **혼자 집중**하여 업무할 수 있는 “집중**실**”이라는게 있어요. 이 집중**실을** 예약,사용하는 **크루들**을 바탕으로 경쟁 상태(상황)에 대해 설명해보시겠어요 ? 또한 올바른 수행을 위해서 행해야 하는 건 무엇일가요?

- 단 자신이 사용한 단어(OS 용어)가 집중실의 무엇인지 설명할 것

> 집중실은 혼자 사용할 수 있는 한정된 공간이며, 해당 집중실을 예약한 크루만 예약한 시간동안 집중실을 사용할 수 있다. 대기하고 있는 크루들은 자기 차례가 된 경우에만 집중실을 사용할 수 있다. 

집중실은 여러 크루들이 접근할 수 있는 공간이므로 임계 영역이라고 볼 수 있으며, 임계 영역에 접근하기 위해 여러 크루들이 대기, 사용하는 상황을 경쟁 상황이라고 할 수 있다. 

집중실이 올바르게 사용되려면 다음의 세 가지를 만족해야 하며 이는 OS에서 다음 용어와 대치될 수 있다.
한 크루가 집중실을 사용하는 동안 다른 크루는 집중실에 접근할 수 없다 → 상호 배제
’예약’을 통해 다음 집중실을 사용할 크루가 정해져 있다 → 진행
크루는 자신이 예약한 ‘시간’ 동안만 집중실을 사용할 수 있으므로 다른 크루들은 집중실을 사용하기 위해 무한정 대기하지 않는다. → 한정 대기
> 

### 1 - 2. 흐음… 좋네요 태현씨 그렇다면 임계구역에 대해 아는 만큼 말해줄 수 있나요 ?

> 임계 구역은 여러 프로세스가 공유하고 있는 구역으로, 이때 데이터 또한 여러 프로세스가 공유한다. 프로세스가 데이터를 변경하는 동안 다른 프로세스 또한 데이터에 접근하는 경우와 같이 데이터의 무결성 문제가 발생할 수 있기 때문에 동기화 기술이 필요하다.
> 

### 1 - 3. 그렇다면 임계 구역 문제를 해결하기 위한 핵심 접근인 상호 배제에 대해 설명해보시겠어요?

> 한 프로세스가 임계 구역에서 로직을 수행하는 동안 다른 프로세스는 자신의 임계 구역에 진입할 수 없다.
> 

### 1 - 4. Mutex에 대해 개념을 한문장으로 기술해보세요 ( 쉬어가는 질문입니다. 짧게 기술 )

> 상호 배제 그 자체로, 임계 구역에 진입한 프로세스가 락을 획득해 수행하는 동안 다른 프로세스는 임계 구역에 접근할 수 없고, 임계 구역을 벗어나면 락을 반납한다.
> 

### 1 - 5. 그렇다면 Mutex가 동작하는 방식을 위에서 말한 “집중실”을 비유로 설명해보세요

- 단 자신이 사용한 단어가 집중실의 무엇인지 설명할 것 (예약이라는 단어를 사용하시오)

> 한 크루가 집중실을 예약해 사용하는 동안 다른 예약하지 않은 크루들은 집중실을 사용할 수 없다. 집중실에서 업무를 수행하던 크루가 업무를 수행하고 집중실을 나가면, 다음에 예약한 다른 크루가 집중실을 사용할  수 있게 된다.
> 

## **Second Combo**

---

### 2 - 1. Semaphore와 Mutex를 비교하시오. (공유 자원, 권한이라는 단어 필수)

> Mutex는 이진 Semaphore와 같다. 한 프로세스가 임계 구역에 진입하면 다른 프로세스는 이에 진입할 수 없다. 반면 카운팅 Semaphore의 경우 가용한 공유 자원의 수만큼 프로세스들이 임계 구역에 진입할 수 있는 권한을 가진다.
> 

> 획기적인 아이디어로 대박을 친 “JJW”는 신사옥으로 이전했습니다. 신사옥으로 이전하면서 기존 1개의 회의실을 **2개**로 늘렸습니다. 그리고 여러분의 의견을 수렴하여 **대기실** 또한 만들었습니다 ! 그리고 지금 연서는 최종 면접 자리에 있습니다…. (두근 두근)
> 

### 2 - 2.  연서씨 저희는 개발 A,B,C팀이 있습니다. 세마포어를 3개의 팀이 회의실을 사용하는 과정을 으로 설명해보세요. (회의실 입구에는 숫자를 나타내는 전광판이 있다) (사용 순서는 A , B , C)

> 개발 A팀이 회의실을 사용하는 경우 2개의 회의실 모두를 사용할 수 있다. A팀이 회의실에 들어가면 가용한 회의실 수를 표시하는 입구 전광판의 숫자 2는 1로 줄어들게 된다. 이후 개발 B팀이 회의실을 사용하는 경우 가용한 회의실이 1개 있으므로 나머지 하나의 회의실에서 회의를 진행한다. 회의실 두개가 모두 사용중이므로 전광판의 숫자는 0이 된다. 이때 C팀이 회의실을 사용하고자 하는 경우 전광판의 숫자가 0, 즉 가용한 회의실이 없으므로 이 숫자가 1이 될 때까지 대기실에서 대기해야 한다.
> 

### 2 - 3. 연서씨 사실 저희는 개발 팀이 10개가 있는데 회의실은 2개밖에 없어요…. 근데 회의실은 늘릴 수 없거든요 ? 여기 판때기 드릴게요.

> 가용한 회의실이 없는 경우 대기를 원하는 팀은 식당의 대기명단을 작성하듯 판때기에 팀 이름을 순차적으로 작성한다. 회의실 사용이 끝난 팀은 판때기를 보고 대기 중인 다른 팀을 호출한다…?
> 
- **3-3을 보고 욕이 나온다면 열어보시오**
    
    ‘판때기를 회의실에 배치한다’는 제가 원하는 답이 아니에요 연서 씨
    

## 두근 두근 나 정연서의 첫 출근날….

![Untitled](%E1%84%83%E1%85%A9%E1%86%BC%E1%84%80%E1%85%B5%E1%84%92%E1%85%AA%20102fde7c7c1e4fee92021b30cf3dcbc0/Untitled.png)

상황 (개발 A팀의 **한얼이형**과 **수빈**,**태현**이는 커피를 마실 것이다. 근데 **A팀에는 독특한 방식**으로 커피를 마신다.)

> 1.  A팀의 탕비실은 오직 **한 사람만 들어갈 수 있는 공간**이다.
2. 꼰대 문화가 심한 A팀 탕비실은 **나이가 많은 사람이 나이가 적은 사람을 즉시 쫒아내고 자신이 탕비실을 사용**할 수 있다.
3. A팀에서 오직 태현이만 커피 머신을 사용하지 않는다.
4. A팀 탕비실에는 **커피 머신**이 한개 있는데 중요한 점은 지문 인식이다. 그리고 지문을 2번 찍는 과정을 통해 **잠금, 해제가 존재**한다.
5. 커피 머신이 잠겨있다면 후에 들어온 사람이 사용하려 할때 **그냥 나간다.**
> 

### 2 - 4. 길을 가던 B팀 권일이는 연서를 보고 말합니다. 
연서씨 위 상황에서 발생할 수 있는 문제를 동기화 관점에서 말해보세요.

> 걍 태현이가 문제인 듯
> 

### 2 - 5. 연서의 대답이 흡족스러운 권일이는 회식을 진행합니다. 술이 들어간 수빈이는 그동안 담아왔던 말을 연서한테 하는데요….

![Untitled](%E1%84%83%E1%85%A9%E1%86%BC%E1%84%80%E1%85%B5%E1%84%92%E1%85%AA%20102fde7c7c1e4fee92021b30cf3dcbc0/Untitled%201.png)

### 위는 교착상태에요 ! 연서 언니는 아직 뒤에 교착상태 해결 방법을 안배웠어요 . 위에 P0와 P1이 교착상태가 발생하는 근본적 이유에 대해 생각해보세요.

> wait()과 signal()이 호출되는 순서가 중요하다.
언젠가 임계 구역에 진입할 수 있을 것이라는 낙관적인 방식이다.
대기하는 시간이 제한되어 있지 않고 무한정이다.
> 

### 2 - 6 교착 상태를 발견하는 프로그램을 만들고 있는데 어떤 알고리즘을 쓰는게 좋을가요?

> 
> 

## **Third Combo**

---

### Third Combo는 실제 면접 방식입니다. 
토글로 이루어져 있으며 상위 토글의 문제를 해결하지 못한 경우 아래 토글을 풀 수 없습니다. 
(다음 문제 지문에 이전 문제의 정답이 있습니다. 고로 본인 실력확인을 위해 앞의 문제를 먼저 푸세요)

- **문제 1**
    
    **모니터의 개념**에 대해 간단하게 기술하세요
    
    - **문제 2**
        
        ![Untitled](%E1%84%83%E1%85%A9%E1%86%BC%E1%84%80%E1%85%B5%E1%84%92%E1%85%AA%20102fde7c7c1e4fee92021b30cf3dcbc0/Untitled%202.png)
        
        수빈 : 문제 멈춰 (미안하다 !!!! 이거 보여주려고 어그로 끌었다)
        
        - **문제 3**
            
            열 받아? ㅋㅋ
            
            ![Untitled](%E1%84%83%E1%85%A9%E1%86%BC%E1%84%80%E1%85%B5%E1%84%92%E1%85%AA%20102fde7c7c1e4fee92021b30cf3dcbc0/Untitled%203.png)
            

### 문제 1의 정답

> mutex와 semaphore는 효율성을 위해 상호 배제만을 고려한다. 이때 실행 순서를 제어하는 것이 매우 중요한데 개발자가 직접 이를 구현하는 경우 오류가 발생하기 쉬우므로 더 상위 단계에서 이를 제어할 수 있는 추상형 데이터 타입인 모니터가 등장하게 되었다.
> 

### 문제 2의 정답

> SOL
> 

### 문제 3의 정답

> SOL
>
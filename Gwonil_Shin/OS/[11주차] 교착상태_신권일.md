# 교착 상태 (1)

# [운영체제] CHAPTER 8

### ⏰ 30 min ( 2 combo )

> 수빈이의 우리FIS 합격 기념으로 모인 연서,한얼,태현,권일,주원,수빈이는 늘 하던대로 보드게임 카페에 가기로 했다. 주원이가 이번에는 과연 꼴찌에서 탈출할 수 있을까?
> 

## First Combo

---

![암더보스](%E1%84%80%E1%85%AD%E1%84%8E%E1%85%A1%E1%86%A8%20%E1%84%89%E1%85%A1%E1%86%BC%E1%84%90%E1%85%A2%20(1)%20d02f3ae29c064336a629a85e2cce73d2/Untitled.png)

암더보스

![전략을 떠올린 주일이](%E1%84%80%E1%85%AD%E1%84%8E%E1%85%A1%E1%86%A8%20%E1%84%89%E1%85%A1%E1%86%BC%E1%84%90%E1%85%A2%20(1)%20d02f3ae29c064336a629a85e2cce73d2/Untitled%201.png)

전략을 떠올린 주일이

![고용카드(3장이 모이면 카드를 뺏어올 수 있다!)](%E1%84%80%E1%85%AD%E1%84%8E%E1%85%A1%E1%86%A8%20%E1%84%89%E1%85%A1%E1%86%BC%E1%84%90%E1%85%A2%20(1)%20d02f3ae29c064336a629a85e2cce73d2/Untitled%202.png)

고용카드(3장이 모이면 카드를 뺏어올 수 있다!)

### 1 - 1. 첫번째 게임은 I’m the Boss로, 각 플레이어가 돌아가며 보스 역할을 하면서 정해진 배당금을 다같이 협상을 통해 분배하여 가장 많은 투자수익을 올리는 플레이어가 승리하는 게임이다. 주원이는 꼴찌만 피하기 위해, 또다른 꼴찌 유력 후보인 태현이만 견제하기로 전략을 세웠다. 주원이의 전략은 이렇다.

<aside>
💡 태현이가 현재 가지고 있는 “A” 카드를 뺏어올 것이다.
태현이의 “A”카드와 주원이가 현재 가지고 있는 “D” 카드 두 개를 가진 상태에서만 협상에 참여한다. 
태현이가 협상에 참여하면 무조건 협상을 망친다.

</aside>

### 그러나, 놀랍게도 태현이 역시 같은 생각이다. 태현이 역시 주원이만은 이긴다는 목적으로 다음과 같은 전략을 세웠다.

<aside>
💡 주원이가 현재 가지고 있는 “D” 카드를 뺏어올 것이다.
주원이의 “D” 카드와 태현이가 현재 가지고 있는 “A” 카드 두 개를 가진 상태에서만 협상에 참여한다.
주원이가 협상에 참여하면 무조건 협상을 망친다.

</aside>

### 한얼이는 현재 아임더보스에 고용카드(3장이 모이면 상대방의 카드를 뺏어올 수 있는 카드)가 총 10장이 있는 것을 알고 있고, 그 10장은 모두 한얼이의 손에 있다. 두 바보의 전략으로 생길 수 있는 문제가 있을까?

> 서로가 서로를 견제하며 카드를 가져오다보니 결국 둘다 협상에는 참여하지 못한다.
> 

### 1 - 2. 한얼이는 주원이와 태현이를 설득하기 위해 문제 상황에 대해 조금 더 구체적으로 말해주었다. 한편, 교착 상태를 열심히 공부한 권일이는, 지금의 논쟁은 모르겠고, 현상황을 교착 상태의 필요조건에 대응해서 우리에게 OS 지식을 뽐내고 싶다. 권일이는 어떻게 말했을까?

(단, 이 게임에서 일가족 카드는 없다고 가정한다.)

![Untitled](%E1%84%80%E1%85%AD%E1%84%8E%E1%85%A1%E1%86%A8%20%E1%84%89%E1%85%A1%E1%86%BC%E1%84%90%E1%85%A2%20(1)%20d02f3ae29c064336a629a85e2cce73d2/Untitled%203.png)

### 영향력 카드 - **일가족 카드**

메인 카드인 투자자 카드가 없어도 일시적으로 해당 역할로 투자가 가능하다.

<aside>
🗣️ 한얼:

1. 주원이와 태현이는 동시에 협상에 참여할 수 없어.
2. 주원이와 태현이가 서로의 조건을 충족하지 못하면, 둘은 계속 대기해야 해.
3. 내가 고용카드를 끝까지 사용하지 않으면 주원이와 태현이는 서로의 투자자 카드를 뺏어올 수 없어.
4. 이러한 대기 상태가 계속 반복될 수 있고, “A”나 “D”카드가 없이 진행할 수 없는 협상이 있을 수 있어.
</aside>

> 카드 → 자원, 협상 → 작업,  카드는 한 명만 소유가 가능함 → 상호 배제, 각자가 카드를 소지하고 상대방것을 얻기 위해 대기 → stop and wait , 해당 대기가 순환을 이룸 →circular wait, no preemption
> 

### 1 - 3. 하려던 게임은 못하고 논쟁만 길어지고 있다. 어서 이 논쟁을 끝내고 싶은 사람들이 하나 둘씩 자신의 해결책을 제시한다. 교착 상태 처리 방법에 이를 대응해보자.

<aside>
🔥 연서: 이렇게까지 해야돼? 그냥 하다가 망하면 끝내자
태현: 일가족 카드를 넣으면 한얼이형이 말한 조건이 성립하지 않게 되는 거 아니야?
권일: 그냥 다들 자기 카드 다 공개하고 문제가 안생기게 하자
수빈: 문제 상황인지 파악하고 문제가 있으면 그때 회복해보자

</aside>

> 연서→ 경쟁상태를 무시하는 대응법 태현→ 교착 상태의 필요조건중 하나인 상호배제를 해결하여 이를 회피한 방식, 권일→ 교착상태 회피의 기본 전제인 스레드가 작업 요청시 자신의 정보를 공개하는것  수빈→ 교착상태를 허용하고 발생시 탐지 및 회복
> 

## **Second Combo**

---

### 2 - 1. 연서는 오늘 스터디에 빠진 수빈이에게 은행원 알고리즘을 설명해주고 싶다. 어떻게 설명해주면 좋을까?

> 교착상태 회피 방식중 하나로 자원의 종류와 인스턴스가 여러개일때 사용할수 있는 방식이다. 자신이 사용할 자원과 현재 상태를 작업 요청시 말하면서 이를 이용해서 안전상태를 유지하는 알고리즘
> 

### 2 - 2.  연서의 열정적인 설명을 들은 수빈이는 곰곰이 생각해보니 은행원 알고리즘에 한계가 있는 것 같다. 어떠한 한계가 있을까?

> 장비의 사용량(throughput)이 줄어서 성능이 줄어들 것이다.
>
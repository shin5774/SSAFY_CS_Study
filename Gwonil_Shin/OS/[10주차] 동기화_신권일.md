# 동기화

# [운영체제] CHAPTER 6

### ⏰ 40 min ( 3 combo )

## First Combo

---

> 태현이는 열심히 노력하고 준비한 끝에 앞선 과정을 돌파하고 “JJW” 최종 면접 자리에 도달했습니다. 텔레파시로 답안을 작성해서 태현이의 면접을 도와주자 !
> 

### 2 - 1. 저희 JJW에는 **혼자 집중**하여 업무할 수 있는 “집중**실**”이라는게 있어요. 이 집중**실을** 예약,사용하는 **크루들**을 바탕으로 경쟁 상태(상황)에 대해 설명해보시겠어요 ? 또한 올바른 수행을 위해서 행해야 하는 건 무엇일가요?

- 단 자신이 사용한 단어(OS 용어)가 집중실의 무엇인지 설명할 것

> 집중실→ 공유 데이터, 집중실에 들어가기 위해 예약을 진행하여 들어가는 상황 → 경쟁 상태,혼자 들어가 있어야함. → 두명 이상있으면 안됨 , 이를 위해 먼저 들어간 사람이 있으면 다른 사람이 집중실에 들어갈수 없다. 공정한 사용을 위해서 예약을 하고 있다면 언젠가는 집중실에 들어갈수 있어야 한다. , 예약은 mutex 대기 큐라고 볼수 있다.
> 

### 2 - 2. 흐음… 좋네요 태현씨 그렇다면 임계구역에 대해 아는 만큼 말해줄 수 있나요 ?

> 임계구역이란 공유 자원에 접근하는 구역으로서 해당 구역에 진입한 프로세스가 있다면 해당 공유자원에 접근할수 있는 임계영역을 가진 다른 프로세스는 해당 임계구역에 접근하면 안된다. 만약 접근하게 되면 데이터의 무결성이 깨지게 되기 때문이다. 이를 해결하기 위해 Mutex나, semaphore등 다양한 동기화 방식을 통해 임계구역에 대한 접근을 통제한다.
> 

### 2 - 3. 그렇다면 임계 구역 문제를 해결하기 위한 핵심 접근인 상호 배제에 대해 설명해보시겠어요?

> 한 프로세스가 임계구역에서 진행중이라면 다른 프로세스들은 임계구역에 접근하면 안되는 것. 이를 구현하기 위한 방법중 하나로 인터럽트의 억제가 있는데 이는 단일 코어에서는 유효하겠지만 다중 코어 구조 그중에서도 SMP구조에서는 이를 억제한다면 성능이 악화되기에 이는 좋은 방법이라고 할수 없다. 따라서 이를 위해 Mutex나 semaphore등 다양한 동기화 방식을 사용한다.
> 

### 2 - 4. Mutex에 대해 개념을 한문장으로 기술해보세요 ( 쉬어가는 질문입니다. 짧게 기술 )

> 한 프로세스가 임계구역에서 진행중이라면 다른 프로세스들은 임계구역에 접근하면 안되는 것
> 

### 2 - 5. 그렇다면 Mutex가 동작하는 방식을 위에서 말한 “집중실”을 비유로 설명해보세요

- 단 자신이 사용한 단어가 집중실의 무엇인지 설명할 것 (예약이라는 단어를 사용하시오)

> 공유 자원을 집중실이라고 한다면 Mutex는 해당 집중실의 잠금장치라고 볼수 있다. 한명이 방에 들어가 문을 잠근다면 다른 사람은 집중실에 들어갈수 없다. 그리고 사용이 끝난 사람이 잠금을 풀고 집중실에서 나오게 되면 예약을 걸었던 다른 사람들이 사용 가능해지는 것이다.
> 

## **Second Combo**

---

### 2 - 1. Semaphore와 Mutex를 비교하시오. (공유 자원, 권한이라는 단어 필수)

> 공유자원을 사용할수 있는 권한의 수에 따라서 semaphore와 mutex로 나눌수 있다. semaphore에는 권한의 수가 2개 이상인 경우를 count semaphore, 1개인 경우는 binary semaphore라고 한다. 이는 mutex와 비슷하게 동작이 된다.  binary와 mutex의 차이점..? (코스트, semaphore가 더 무겁겠지?)
> 

> 획기적인 아이디어로 대박을 친 “JJW”는 신사옥으로 이전했습니다. 신사옥으로 이전하면서 기존 1개의 회의실을 **2개**로 늘렸습니다. 그리고 여러분의 의견을 수렴하여 **대기실** 또한 만들었습니다 ! 그리고 지금 연서는 최종 면접 자리에 있습니다…. (두근 두근)
> 

### 2 - 2.  연서씨 저희는 개발 A,B,C팀이 있습니다. 세마포어를 3개의 팀이 회의실을 사용하는 과정을 으로 설명해보세요. (회의실 입구에는 숫자를 나타내는 전광판이 있다) (사용 순서는 A , B , C)

> 전광판에는 현재 미 사용중인 전광판의 개수가 있다. A팀은 전광판의 숫자를 봅니다. 2개니까 빈 회의실로 들어가게 됩니다. 이후 B 또한 전광판의 개수를 보고 1개이기에 들어갑니다. 이후 C가 회의에 들어가려고 할때 전광판의 숫자를 확인하는데 숫자가 0이라면 사용 가능한 회의실이 없기에 대기실로 들어가 숫자가 1이 될떄까지 기다립니다. 아니라면 들어가겠죠. 그리고 사용이 끝난팀이 회의실에서 나오게 되면 전광판의 숫자가 증가합니다.
> 

### 3 - 3. 연서씨 사실 저희는 개발 팀이 10개가 있는데 회의실은 2개밖에 없어요…. 근데 회의실은 늘릴 수 없거든요 ? 여기 판때기 드릴게요.

> 자 판떄기에 회의실을 얼마나 사용할지 적어보세요! 사용시간 적은 순으로 드릴게요
> 
- **3-3을 보고 욕이 나온다면 열어보시오**
    
    ‘판때기를 회의실에 배치한다’는 제가 원하는 답이 아니에요 연서 씨
    

## 두근 두근 나 정연서의 첫 출근날….

![Untitled](%E1%84%83%E1%85%A9%E1%86%BC%E1%84%80%E1%85%B5%E1%84%92%E1%85%AA%206cde4bdd66f04900a52adcfc7c36a66f/Untitled.png)

상황 (개발 A팀의 **한얼이형**과 **수빈**,**태현**이는 커피를 마실 것이다. 근데 **A팀에는 독특한 방식**으로 커피를 마신다.)

> 1.  A팀의 탕비실은 오직 **한 사람만 들어갈 수 있는 공간**이다.
2. 꼰대 문화가 심한 A팀 탕비실은 **나이가 많은 사람이 나이가 적은 사람을 즉시 쫒아내고 자신이 탕비실을 사용**할 수 있다.
3. A팀에서 오직 태현이만 커피 머신을 사용하지 않는다.
4. A팀 탕비실에는 **커피 머신**이 한개 있는데 중요한 점은 지문 인식이다. 그리고 지문을 2번 찍는 과정을 통해 **잠금, 해제가 존재**한다.
5. 커피 머신이 잠겨있다면 후에 들어온 사람이 사용하려 할때 **그냥 나간다.**
> 

### 3 - 4. 길을 가던 B팀 권일이는 연서를 보고 말합니다. 
연서씨 위 상황에서 발생할 수 있는 문제를 동기화 관점에서 말해보세요.

> 만약 수빈이가 먼저 탕비실에 들어가서 커피머신을 사용하기 위해 잠금을 걸고 사용을 진행중이야. 그런데 여기서 짜잔! 한얼이형이 유교사상을 바탕으로 나오라고 하네? 수빈이는 어쩔수 없이 나오게 되는거지. 그리고 한얼이 형이 커피머신을 사용하려고 하는데 어이쿠 이런! 커피머신이 잠겨있네..? 한얼이형은 커피를 마실수 없어서 슬퍼하면서 탕비실을 나와. 이 뒤에 태현이는 물을 마시러 계속 탕비실을 들락 날락 거려 이친구는 텀블러가 없나봐. 이런 상황에서 수빈이는 장유유서에 의해 계속 커피를 못마시고 이로 인해 한얼이형 또한 커피를 마실수 없어서 태현이만 물을 마시는 상황이 되는거지. 즉 이게 우선순위 역전이라고 하는거야 주원아.
> 

### 3 - 5. 연서의 대답이 흡족스러운 권일이는 회식을 진행합니다. 술이 들어간 수빈이는 그동안 담아왔던 말을 연서한테 하는데요….

![Untitled](%E1%84%83%E1%85%A9%E1%86%BC%E1%84%80%E1%85%B5%E1%84%92%E1%85%AA%206cde4bdd66f04900a52adcfc7c36a66f/Untitled%201.png)

### 위는 교착상태에요 ! 연서 언니는 아직 뒤에 교착상태 해결 방법을 안배웠어요 . 위에 P0와 P1이 교착상태가 발생하는 근본적 이유에 대해 생각해보세요.

> 공유 자원의 현재 사용에 대해 고려하지 않고 문맥교환을 진행하기에, 앞으로의 프로세스가 어떤 임계영역에서 어떤 공유자원을 할당 받고 해제할지 제대로 보장할수 없기 때문에 이걸 고려한 문맥교환을 진행할수 없고, 결국 이로 인해 서로가 서로에게 필요한 자원을 요청하게되는 교착상태가 발생하는 거에요
> 

### 3 - 6 교착 상태를 발견하는 프로그램을 만들고 있는데 어떤 알고리즘을 쓰는게 좋을가요?

> 사이클을 발견해야 하는데. 벨만-포드
> 

## **Third Combo**

---

### Third Combo는 실제 면접 방식입니다. 
토글로 이루어져 있으며 상위 토글의 문제를 해결하지 못한 경우 아래 토글을 풀 수 없습니다. 
(다음 문제 지문에 이전 문제의 정답이 있습니다. 고로 본인 실력확인을 위해 앞의 문제를 먼저 푸세요)

- **문제 1**
    
    **모니터의 개념**에 대해 간단하게 기술하세요
    
    - **문제 2**
        
        ![Untitled](%E1%84%83%E1%85%A9%E1%86%BC%E1%84%80%E1%85%B5%E1%84%92%E1%85%AA%206cde4bdd66f04900a52adcfc7c36a66f/Untitled%202.png)
        
        수빈 : 문제 멈춰 (미안하다 !!!! 이거 보여주려고 어그로 끌었다)
        
        - **문제 3**
            
            열 받아? ㅋㅋ
            
            ![Untitled](%E1%84%83%E1%85%A9%E1%86%BC%E1%84%80%E1%85%B5%E1%84%92%E1%85%AA%206cde4bdd66f04900a52adcfc7c36a66f/Untitled%203.png)
            

### 문제 1의 정답

> 내부 연산과 자원에 대해 원자성과 프로그래머가 정의한 규약을 보장하는 추상 데이터 타입
> 

### 문제 2의 정답

> 주원이는 걍 종신 하자
> 

### 문제 3의 정답

> 태현이랑 같이 저녁 드시러 가시고
>
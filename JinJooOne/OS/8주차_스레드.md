# 스레드

# [운영체제] CHAPTER 4. 스레드와 병행성

### ⏰30min

# 1. MultiThreading

## 1-1. 멀티 스레딩의 이점에 대해 설명해주세요.

1. 경제성
    - 프로세스를 생성하고 관리하는 비용은 스레드를 생성하는 비용보다 많이 든다. 이런 점에 있어서 멀티 스레딩 프로그래밍은 다중 처리 시스템에 있어 다중 프로세스보다 비용적으로 이득이 있다.
2. 응답성 증가
    - 프로세스 내에서 처리를 멀티 스레딩 시스템으로 진행할 경우 사용자의 요청에 대하여 응답성 증가
3. 다중 처리기 시스템에서의 이점
    - 다중 처리기 시스템에서 멀티 스레드 프로그래밍을 통해 병렬 실행 가능

## 1-2. 멀티스레드에서 발생할 수 있는 오버헤드에 대해 설명해주세요.

- 결국 멀티 스레드에서도 문맥 교환은 이루어져야 한다. PCB 내의 TCB를 교체하고 레지스터를 적재하는 과정에 있어 오버헤드가 발생할 수 있다.

# 2. MultiThreading+

## 1-1, 1-2를 고려했을 때, 스레드는 많을 수록 성능이 좋을까요?

- 스레드가 많다면 성능이 좋을 수 있지만 너무 많은 양은 오히려 성능 저하로 이루어질 수 있다. 결국 스레드가 많더라도 코어의 개수가 제한되어 있다면 스레드 문맥 교환이 이루어지고 해당 과정에서 오버헤드가 발생할 수 있다.
- 중요한 것은 병렬 처리가 가능하도록 작업을 분리하고 균등하게 스레드에 분배하고 데이터를 분리하고 종속성 있게 처리하는 것이다.

# 3. 스레드 풀

## 스레드 풀에 대해 설명해주세요.

사용자의 요청이 들어올 때마다 스레드를 생성하는 것은 결국 비용적 측면에서 좋지 않다. 그리고 앞의 방식을 사용할 경우 스레드의 수에 제한이 없다. 스레드 풀이란 서비스를 진행하는 서버 입장에서 미리 일정 양의 스레드를 생성해놓고 사용자가 요청한 경우 스레드 풀의 가용 가능한 스레드를 할당하는 것이다.

- 스레드 풀을 통해 요청마다 스레드를 생성하는 시간을 줄일 수 있다. 또한 서비스 내에서 스레드의 수를 제한하고 관리할 수 있다.

# 4. 스레드 수준

## 스레드의 두가지 수준에 대해 설명해 주세요.

- 사용자 스레드
    - 커널의 지원 없이 사용자 영역에서 생성하고 관리하는 스레드
    - 사용자 스레드를 실행하는 것은 실제로 시스템 콜을 호출하는 것이 아닌 사용자 라이브러리 메서드를 호출하는 것이다.
    - 스레드의 생성과 관리 비용과 시간이 커널 스레드에 비해 적다.
- 커널 스레드
    - 커널의 지원에 의해 관리되는 스레드
    - 커널 스레드 라이브러리를 호출하는 것은 실제로 시스템 콜을 호출하는 것
- 사용자 스레드와 커널 스레드 사이의 통신이 이루어지는데 있어 일대일 , 다대일, 다대다 모델 3가지가 있다.

# 5. 병행성과 병렬성

## 동시성(병행성)과 병렬성을 설명해주세요.

- 동시성은 소프트웨어 수준에서의 동시 처리를 의미한다. 즉 실제로 동시에 수행되는 것이 아닌 동시에 수행되는 것처럼 보이는 것이다.
- 단일 코어에서 멀티 스레드 프로그래밍의 경우 동시성이 적용되는 것이다.
- 병렬성은 하드웨어 수준에서의 동시 처리를 의미하며 즉 실제로 동시에 처리되는 것을 의미한다. 멀티 코어에서 멀티 스레드 프로그래밍의 경우 병렬성이 적용되는 것이다.

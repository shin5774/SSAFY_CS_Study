# κµ¬κΈ€μ„ μ ‘μ†ν•  λ• μΌμ–΄λ‚λ” μΌ

### 1. μ›Ήμ£Όμ†([www.google.com](http://www.google.com))λ¥Ό λΈλΌμ°μ € μ£Όμ†μ°½μ— μ…λ ¥ν•λ‹¤.

λΈλΌμ°μ €λ” μ‚¬μ©μκ°€ μ£Όμ†μ°½μ— μ…λ ¥ν• μ •λ³΄κ°€ μ‚¬μ΄νΈ μ£Όμ†μΈμ§€ κ²€μƒ‰μ–΄μΈμ§€ ν™•μΈν•λ‹¤.

β‡’ RFC 1738μ— λ”°λΌ μ ν¨ν• URLμ΄ λ§λ”μ§€ ν™•μΈν•λ‹¤.

<aside>
π’ RFC?
Request for Comments
μΈν„°λ„· μ—°κµ¬ λ° κ°λ° μ»¤λ®¤λ‹ν‹°μ—μ„ μΈν„°λ„· ν‘μ¤€κ³Ό κ΄€λ ¨λ λ¬Έμ„μ μ‹λ¦¬μ¦
[RFC 1738] Uniform Resource Locators (URL)

</aside>

### 2. λΈλΌμ°μ €λ” μΊμ‹±λ DNS κΈ°λ΅μ„ ν†µν•΄ μ…λ ¥λ μ›Ήμ£Όμ†μ— λ€μ‘λλ” ipμ£Όμ†κ°€ μλ”μ§€ ν™•μΈν•λ‹¤.

<aside>
π£ **κ³Όμ •**

1. λΈλΌμ°μ € μΊμ‹λ¥Ό ν™•μΈν•λ‹¤.
    
    λΈλΌμ°μ €λ” μΌμ •κΈ°κ°„ λ™μ•μ DNS κΈ°λ΅μ„ μ €μ¥ν•κ³  μλ‹¤.
    
2. λΈλΌμ°μ €λ” OS μΊμ‹λ¥Ό ν™•μΈν•λ‹¤.
    
    λΈλΌμ°μ € μΊμ‹μ—μ„ μ›Ήμ‚¬μ΄νΈ μ΄λ¦„μ ipμ£Όμ†κ°€ λ°κ²¬λμ§€ μ•μ€ κ²½μ°
    
    β‡’ λΈλΌμ°μ €λ” systemcallμ„ ν†µν•΄ OSκ°€ μ €μ¥ν•λ” DNS κΈ°λ΅λ“¤μ μΊμ‹μ— μ ‘κ·Όν•λ‹¤.
    
3. Router μΊμ‹λ¥Ό ν™•μΈν•λ‹¤.
    
    μ»΄ν“¨ν„°μ— DNS κΈ°λ΅μ„ μ°Ύμ§€ λ»ν•λ©΄
    
    β‡’ λΈλΌμ°μ €λ” DNS κΈ°λ΅μ„ μΊμ‹±ν•λ” Routerμ™€ ν†µμ‹ ν•μ—¬ μ°Ύλ”λ‹¤.
    
4. ISP μΊμ‹λ¥Ό ν™•μΈν•λ‹¤.
    
    λΈλΌμ°μ €λ” DNS μ„λ²„λ¥Ό κµ¬μ¶•ν•κ³  μλ” ISPμ—μ„ DNS κΈ°λ΅μ„ μ°Ύλ”λ‹¤.
    
</aside>

<aside>
π’ DNS
Domain Name System
λΈλΌμ°μ €κ°€ μΈν„°λ„· μμ›μ„ λ΅λ“ν•  μ μλ„λ΅ λ„λ©”μΈ μ΄λ¦„μ„ IP μ£Όμ†λ΅ λ³€ν™

</aside>

<aside>
π’ ISP
Internet Service Provider, μΈν„°λ„· μ„λΉ„μ¤ μ κ³µμ
μΈν„°λ„·μ— μ ‘μ†ν•λ” μλ‹¨μ„ μ κ³µν•λ” μ£Όμ²΄λ¥Ό κ°€λ¦¬ν‚¤λ” λ§

</aside>

<aside>
π’ μΊμ‹ μ €μ¥ μ΄μ 
μΊμ‹λ” λ„¤νΈμ›ν¬ νΈλν”½μ„ μ΅°μ ν•κ³ , λ°μ΄ν„° μ „μ†΅ μ‹κ°„μ„ μ¤„μΈλ‹¤.

</aside>

### 3. μ”μ²­ν• URL μΊμ‹κ°€ μ—†μΌλ©΄, ISPμ DNS μ„λ²„κ°€ μ›Ήμ£Όμ†λ¥Ό νΈμ¤ν…ν•κ³  μλ” μ„λ²„μ IP μ£Όμ†λ¥Ό μ°ΎκΈ° μ„ν•΄ DNS queryλ¥Ό λ‚ λ¦°λ‹¤.

<aside>
π£ **κ³Όμ •**

1. DNS recursorκ°€ root name serverμ— μ—°λ½ν•λ‹¤.
2. root name serverλ” .com λ„λ©”μΈ name serverλ΅ redirectν•λ‹¤.
3. .com name serverλ” [google.com](http://google.com) name serverλ΅ redirectν•λ‹¤.
4. [google.com](http://google.com) name serverλ” DNS κΈ°λ΅μ—μ„ [www.google.com](http://www.google.com)μ— λ§¤μΉ­λλ” IPμ£Όμ†λ¥Ό μ°Ύκ³ , DNS recursorλ΅ λ³΄λ‚Έλ‹¤.
</aside>

<aside>
π’ μ„ λ¨λ“  μ”μ²­λ“¤μ€ μ‘μ€ λ°μ΄ν„° ν¨ν‚·μ„ ν†µν•΄ λ³΄λ‚΄μ§„λ‹¤.

- `ν¨ν‚· = λ³΄λ‚΄λ” μ”μ²­μ λ‚΄μ© + DNS recursor μ IP μ£Όμ†`Β μΌλ΅ μ΄λ¤„μ§
- ν¨ν‚·λ“¤μ€ μ›ν•λ” DNS κΈ°λ΅μ„ κ°€μ§„ DNS μ„λ²„μ— λ„λ‹¬ν•  λ–„κΉμ§€ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ¥Ό μ—¬λ¬ λ² μ¤κ°„λ‹¤
- μ΄λ• ν¨ν‚·λ“¤μ€ routing tableμ— κΈ°λ°ν•μ—¬ κ°€μ¥ λΉ λ¥Έ κ²½λ΅λ΅ μ›€μ§μΈλ‹¤.
- λ„μ¤‘μ— ν¨ν‚·μ΄ lossλλ©΄ request fail errorκ°€ λ°μƒν•λ‹¤
</aside>

<aside>
π’ DNS query
μ—¬λ¬ λ‹¤λ¥Έ DNS μ„λ²„λ“¤μ„ κ²€μƒ‰ν•μ—¬ νΉμ • μ‚¬μ΄νΈμ IP μ£Όμ†λ¥Ό μ°Ύλ”λ‹¤.
β‡’ recursive search
IP μ£Όμ†λ¥Ό μ°Ύμ„ λ•κΉμ§€ DNS μ„λ²„μ—μ„ λ‹¤λ¥Έ DNS μ„λ²„λ¥Ό μ¤κ°€λ©΄μ„ λ°λ³µμ μΌλ΅ κ²€μƒ‰μ„ μ§„ν–‰
μ°Ύμ§€ λ»ν•λ©΄? μ—λ¬ λ°μƒ β‡’ κ²€μƒ‰ μ¤‘λ‹¨

</aside>

<aside>
π’ DNS recursor
ISPμ DNS μ„λ²„
μΈν„°λ„·μ„ ν†µν•΄ λ‹¤λ¥Έ DNS μ„λ²„(name server)λ“¤μ—κ² λ¬Όμ–΄ λ„λ©”μΈ μ΄λ¦„μ μ¬λ°”λ¥Έ IP μ£Όμ†λ¥Ό μ°Ύλ” μ±…μ„μ„ κ°–λ”λ‹¤.

</aside>

### 4. λΈλΌμ°μ €κ°€ μ„λ²„μ™€ TCP connectionμ„ ν•λ‹¤.

λΈλΌμ°μ €λ” μ¬λ°”λ¥Έ IP μ£Όμ†λ¥Ό λ°›κ² λλ©΄, μ„λ²„μ™€ connectionμ„ λΉλ“ν•λ‹¤.

<aside>
π£ **κ³Όμ • - TCP/IP 3-way handshake**

1. ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°„μ λ°μ΄ν„° ν¨ν‚·λ“¤μ΄ μ¤κ³  κ°€κΈ° μ„ν•΄μ„ TCP connectionμ΄ λμ–΄μ•Ό ν•λ‹¤.
2. TCP/IP 3-way handshake ν”„λ΅μ„Έμ¤λ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°„μ connectionμ΄ μ΄λ¤„μ§„λ‹¤
3. ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€Β `SYN`Β κ³ΌΒ `ACK`Β λ©”μ‹μ§€λ“¤λ΅ 3λ²μ ν”„λ΅μ„Έμ¤λ¥Ό κ±°μΉ ν›„ μ—°κ²°λλ‹¤
    - κ³Όμ •
        1. ν΄λΌμ΄μ–ΈνΈ λ¨Έμ‹ μ΄Β `SYN`Β ν¨ν‚·μ„ μ„λ²„μ— λ³΄λ‚΄κ³ , connectionμ„ openν•΄ λ‹¬λΌκ³  μ”μ²­ν•λ‹¤
        2. μ„λ²„κ°€ μƒλ΅μ΄ connectionμ„ μ‹μ‘ν•  portκ°€ μλ‹¤λ©΄Β `SYN/ACK`Β ν¨ν‚·μΌλ΅ μ‘λ‹µν•λ‹¤.
        3. ν΄λΌμ΄μ–ΈνΈλ”Β `SYN/ACK`Β ν¨ν‚·μ„ μ„λ²„λ΅λ¶€ν„° λ°›κ² λλ©΄ μ„λ²„μ—κ² μ λ°›μ•λ‹¤λ” μλ―Έλ΅Β `ACK`Β ν¨ν‚·μ„ μ‘λ‹µν•λ‹¤
</aside>

<aside>
π’ TCP

Transmission Control Protocol
μ—°κ²° μ§€ν–¥μ  ν”„λ΅ν† μ½
(ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ—°κ²°λ μƒνƒμ—μ„ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›λ” ν”„λ΅ν† μ½)
μ‹ λΆ°μ„± μλ” λ°μ΄ν„° μ „λ‹¬

</aside>

### 5. λΈλΌμ°μ €κ°€ μ›Ήμ„λ²„μ— HTTP μ”μ²­μ„ ν•λ‹¤.

TCP connectionμ΄ μ™„μ„±λλ©΄, λ°μ΄ν„°λ¥Ό μ „μ†΅ν•λ‹¤.

ν΄λΌμ΄μ–ΈνΈμ λΈλΌμ°μ €λ” GET λ°©μ‹μΌλ΅ [www.google.com](http://www.google.com) μ›Ήνμ΄μ§€λ¥Ό μ”μ²­ν•λ‹¤.

### 6. μ„λ²„κ°€ μ”μ²­μ„ μ²λ¦¬ν•κ³  Responseλ¥Ό μƒμ„±ν•λ‹¤.

μ„λ²„λ” μ›Ήμ„λ²„λ¥Ό κ°€μ§€κ³  μλ‹¤.

μ›Ήμ„λ²„λ” λΈλΌμ°μ €λ΅λ¶€ν„° Request λ°›κ³  Request Handlerμ—κ² μ „λ‹¬ν•μ—¬ Request λ¥Ό μ½κ³  Responseλ¥Ό μƒμ„±ν•κ² ν•λ‹¤.

<aside>
π’ Request Handler

- Request, Requestμ ν—¤λ”, μΏ ν‚¤λ¥Ό μ½μ–΄ μ”μ²­μ΄ λ¬΄μ—‡μΈμ§€ νμ•…ν•λ‹¤.
- ν•„μ”μ— λ”°λΌ μ„λ²„μ— μ •λ³΄λ¥Ό μ—…λ°μ΄νΈ ν•λ‹¤.
- κ·Έλ¦¬κ³  Responseλ¥Ό νΉμ • ν¬λ§·(Json, XML, HTML)μΌλ΅ μ‘μ„±ν•λ‹¤
</aside>

### 7. μ„λ²„κ°€ HTTP Responseλ¥Ό λ³΄λ‚Έλ‹¤.

μ²« μ¤„μ—λ” ν„μ¬ Responseμ μƒνƒλ¥Ό μλ―Έν•λ” status codeκ°€ λ‚νƒ€λ‚λ‹¤.

<aside>
π’ Status Code

- 1xxμ€ μ •λ³΄λ§ λ‹΄κΈ΄ λ©”μ„Έμ§€λΌλ” κ²ƒμ„ μλ―Έν•λ‹¤
- 2xx responseκ°€ μ„±κ³µμ μ΄λΌλ” κ²ƒμ„ μλ―Έν•λ‹¤
- 3xx ν΄λΌμ΄μ–ΈνΈλ¥Ό λ‹¤λ¥Έ URLλ΅ λ¦¬λ‹¤μ΄λ ‰νΈν•¨μ„ μλ―Έν•λ‹¤
- 4xx ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ μ—λ¬κ°€ λ°μƒν–μμ„ μλ―Έν•λ‹¤
- 5xx μ„λ²„ μΈ΅μ—μ„ μ—λ¬κ°€ λ°μƒν–μμ  μλ―Έν•λ‹¤
</aside>

### 8. λΈλΌμ°μ €κ°€ HTML contentλ¥Ό λ³΄μ—¬μ¤€λ‹¤.

<aside>
π£ **κ³Όμ •**
1. HTML skeletonμ„ renderingν•λ‹¤.
2. HTML tagλ“¤μ„ μ²΄ν¬ν•κ³ , GET λ°©μ‹μΌλ΅ μ¶”κ°€μ  μ›Ήνμ΄μ§€ μ •μ μΈ μ”μ†λ“¤ (μ΄λ―Έμ§€, css stylesheet, javascript ..)μ„ μ”μ²­ν•λ‹¤.
: μ΄ μ •μ μΈ νμΌλ“¤μ€ λΈλΌμ°μ €μ— μν•΄ μΊμ‹±λμ–΄ λ‚μ¤‘μ— ν•΄λ‹Ή νμ΄μ§€ λ°©λ¬Έμ‹ μ„λ²„λ΅λ¶€ν„° λ‹¤μ‹ λ¶λ¬μ¤μ§€ μ•λ„λ΅ ν•λ‹¤.
3. κ²°κ³Όμ μΌλ΅ www.google.com μ λ¨μµμ΄ λ³΄μΈλ‹¤

</aside>

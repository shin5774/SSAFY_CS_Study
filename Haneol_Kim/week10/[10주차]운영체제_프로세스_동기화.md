# [운영체제] CHAPTER 6

### ⏰ 40 min ( 3 combo )

## First Combo

---

> 태현이는 열심히 노력하고 준비한 끝에 앞선 과정을 돌파하고 “JJW” 최종 면접 자리에 도달했습니다. 텔레파시로 답안을 작성해서 태현이의 면접을 도와주자 !
> 

### 2 - 1. 저희 JJW에는 **혼자 집중**하여 업무할 수 있는 “집중**실**”이라는게 있어요. 이 집중**실을** 예약,사용하는 **크루들**을 바탕으로 경쟁 상태(상황)에 대해 설명해보시겠어요 ? 또한 올바른 수행을 위해서 행해야 하는 건 무엇일가요?

- 단 자신이 사용한 단어(OS 용어)가 집중실의 무엇인지 설명할 것

> SOL
> 
경쟁 상황 : 2명의 상황이 하나의 공유자원인 집중실을 사용하려고 하는 것입니다. 즉 주원이가 집중실을 먼저 예약하고 사용중이라면 그 뒤에 수빈이가 예약을 하더라도 주원이가 사용중인 동안은 집중실을 이용할 수 없습니다.
상호배제 : 한명이 집중실을 사용중이라면 다른 사람은 이용할 수 없습니다.
진행 : 한명도 집중실을 이용중이 아니라면 집중실을 이용할 수 있어야 하며, 집중실에서 사용이 끝나면 예약 대기자 명단에서 적절히 선택해 수행시켜야 합니다.
한정대기 : 집중실을 이용했던 사람은 다음 집중실 이용명단에서 우선순위가 낮아야 합니다.


### 2 - 2. 흐음… 좋네요 태현씨 그렇다면 임계구역에 대해 아는 만큼 말해줄 수 있나요 ?

> SOL
> 
임계구역이란 간단히 말하면 공유 자원을 접근하는 영역을 말합니다. 임계구역에서는 다양한 상황이 발생할 수 있는데요. 예를 들어 많은 사람들이 책을 사용한다고 했을때 많은 사람이 책을 동시에 읽는 것은 상관 없지만 한명이 수정할 때는 다른사람이 책을 읽어서는 안됩니다. 이를 적절히 조치해줘야 합니다. 

### 2 - 3. 그렇다면 임계 구역 문제를 해결하기 위한 핵심 접근인 상호 배제에 대해 설명해보시겠어요?

> SOL
> 
즉 상호배제란 동기화에 문제가 발생하지 않도록 공유자원을 한 프로세스만 접근 할 수 있도록 하며, 한 프로세스가 접근중일때는 다른 프로세스를 접근하지 못하게 하는 것입니다.

### 2 - 4. Mutex에 대해 개념을 한문장으로 기술해보세요 ( 쉬어가는 질문입니다. 짧게 기술 )

> SOL
> 
뮤텍스란 상호배제를 위한 방법중 하나로 한개의 프로세스만 임계영역에 접근할 수 있을 때 사용합니다.

### 2 - 5. 그렇다면 Mutex가 동작하는 방식을 위에서 말한 “집중실”을 비유로 설명해보세요

- 단 자신이 사용한 단어가 집중실의 무엇인지 설명할 것 (예약이라는 단어를 사용하시오)

> SOL
> 예약자 명단에서 집중실 이용에 선발된 주원이는 집중실의 키를 획득한 후 집중실에 들어가면서 문을 잠급니다. 그렇게 되면 다른 사람들은 집중실을 이용할 수 없고 집중실 예약명단에서 대기중인 수빈이는 주원이가 끝날때까지 기다려야하며, 주원이는 집중실 사용이 끝난 후 키를 반납하고 나갑니다.

## **Second Combo**

---

### 2 - 1. Semaphore와 Mutex를 비교하시오. (공유 자원, 권한이라는 단어 필수)

> SOL
> 뮤텍스의 경우 공유자원을 동시에 한개의 프로세스만 사용할 수 있는 권한을 얻습니다. 그러나 세마포어의 경우 여러 프로세스가 공유자원에 접근할 수 있는 권한을 얻습니다.

> 획기적인 아이디어로 대박을 친 “JJW”는 신사옥으로 이전했습니다. 신사옥으로 이전하면서 기존 1개의 회의실을 **2개**로 늘렸습니다. 그리고 여러분의 의견을 수렴하여 **대기실** 또한 만들었습니다 ! 그리고 지금 연서는 최종 면접 자리에 있습니다…. (두근 두근)
> 

### 2 - 2.  연서씨 저희는 개발 A,B,C팀이 있습니다. 세마포어를 3개의 팀이 회의실을 사용하는 과정을 으로 설명해보세요. (회의실 입구에는 숫자를 나타내는 전광판이 있다) (사용 순서는 A , B , C)

> SOL
> 세마포어가 사용하는 변수 S는 회의실이 2개이기 때문에 2로 설정이 됩니다. 한 팀이 회의실에 들어가게 되면 값을 1줄이고 회의실을 사용합니다. 그러나 값이 0이하일 경우 사용할 수 없습니다. A가 회의실에 들어가는 순간 wait()가 수행이 되며 변수 S를 1로 줄이고 임계 영역에 들갑니다. A가 회의중 B가 회의를 실행하게 되면 변수 값을 0으로 만들고 회의실을 이용한다. C의 경우는 값이 0이므로 회의실을 사용할 수 없다. A나 B 둘중 하나가 회의실 사용이 끝나면 변수를 1증가시키고 임계영역을 나가며 변수가 1이 됐기 때문에 c가 입장이 가능합니다.

### 3 - 3. 연서씨 사실 저희는 개발 팀이 10개가 있는데 회의실은 2개밖에 없어요…. 근데 회의실은 늘릴 수 없거든요 ? 여기 판때기 드릴게요.

> SOL (책에 없는 내용입니다. 책의 개념을 바탕으로 해결책을 도출하세요.)
> 
- **3-3을 보고 욕이 나온다면 열어보시오**
    
    ‘판때기를 회의실에 배치한다’는 제가 원하는 답이 아니에요 연서 씨
회의실을 사용중에 지속적으로 회의실 앞에서 회의실 사용을 대기하는 것은 지나치게 비효율 적이다. 판때기로 예약명단을 만들어 사용중인 회의실의 사용이 끝나면 회의가 끝났으며 회의실을 사용할 수 있다고 다른 팀에게 알려준다.

## 두근 두근 나 정연서의 첫 출근날….

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/f77d7a1c-bd05-4f32-aaee-c4f2fdaf935c/6d1535f2-de6d-47ea-b68f-89ca511bbab0/Untitled.png)

상황 (개발 A팀의 **한얼이형**과 **수빈**,**태현**이는 커피를 마실 것이다. 근데 **A팀에는 독특한 방식**으로 커피를 마신다.)

> 1.  A팀의 탕비실은 오직 **한 사람만 들어갈 수 있는 공간**이다.
2. 꼰대 문화가 심한 A팀 탕비실은 **나이가 많은 사람이 나이가 적은 사람을 즉시 쫒아내고 자신이 탕비실을 사용**할 수 있다.
3. A팀에서 오직 태현이만 커피 머신을 사용하지 않는다.
4. A팀 탕비실에는 **커피 머신**이 한개 있는데 중요한 점은 지문 인식이다. 그리고 지문을 2번 찍는 과정을 통해 **잠금, 해제가 존재**한다.
5. 커피 머신이 잠겨있다면 후에 들어온 사람이 사용하려 할때 **그냥 나간다.**
> 


### 3 - 4. 길을 가던 B팀 권일이는 연서를 보고 말합니다. 
연서씨 위 상황에서 발생할 수 있는 문제를 동기화 관점에서 말해보세요.

> SOL
> 
우선상황은 즉 꼰대력은 한얼 > 태현 > 수빈이다.
여기서 수빈이가 커피머신을 잠금을 하면서 사용하고 있었다.
태현이가 꼰대력을 발휘하여 수빈이를 쫒아낸다.
태현이는 커피머신을 사용하고 있지 않아 문제가 없지만
한얼이가 와서 태현이를 다시 쫒아낸다. 이렇게 할 경우 가장 우선 순위가 높지만 태현이가 사용을 다 마치고 수빈이가 잠금을 해제해야 커피머신을 사용할 수 있다.
즉 우선순위 높은 프로세스가 선점을 했는데도 임계영역때문에 대기해야하는 문제가 생긴다.
이것을 우선순위의 역전이라고 합니다.

### 3 - 5. 연서의 대답이 흡족스러운 권일이는 회식을 진행합니다. 술이 들어간 수빈이는 그동안 담아왔던 말을 연서한테 하는데요….

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/f77d7a1c-bd05-4f32-aaee-c4f2fdaf935c/885988cc-9762-41b8-93e1-c15ea60d368a/Untitled.png)

### 위는 교착상태에요 ! 연서 언니는 아직 뒤에 교착상태 해결 방법을 안배웠어요 . 위에 P0와 P1이 교착상태가 발생하는 근본적 이유에 대해 생각해보세요.

> SOL
> 
p0는 wait(s)를 수행한다 s를 0로 만들고 내려간다. wait(q)까지 수행된다면 문제는 없지만 wait(s)까지만 수행한 다음 p1이 시작 되고 wait(q)와 wait(s)를 수행하게 되면 q를 0으로 만들고 s가 0이기 때문에 대기하게 된다. 그리고 p0가 깨어나게 되면 wait(q) 를 만나며 대기를 하게 된다.
즉 위 그림에서 문제는 락을 두개 얻는것이 원자적이지 않기 때문이다.

### 3 - 6 교착 상태를 발견하는 프로그램을 만들고 있는데 어떤 알고리즘을 쓰는게 좋을가요?

> SOL
> 
1번째 방법으로는 주기적으로 검사하는 것이다. 이것을 관리하기 위해 새로운 알고리즘을 만들고 구현하는 것도 결국 비용이므로 놔두고 주기적으로 검사를 하여 풀어주는 것이다.
두번째는 락을 얻는 과정의 연산들도 원자적으로 할 수 있다면 문제는 해결된다.

## **Third Combo**

---

### Third Combo는 실제 면접 방식입니다. 
토글로 이루어져 있으며 상위 토글의 문제를 해결하지 못한 경우 아래 토글을 풀 수 없습니다. 
(다음 문제 지문에 이전 문제의 정답이 있습니다. 고로 본인 실력확인을 위해 앞의 문제를 먼저 푸세요)

- **문제 1**
    
    **모니터의 개념**에 대해 간단하게 기술하세요

    공유자원에 대한 접근 또는 연산을 인터페이스로 구현하여 프로세스등이 실행하도록 하는 것이다. 모니터는 한 프로세스만이 수행이 가능하며, 프로세스가 모니터의 함수를 수행시킬 때는 기본적인 동기화를 지켜준다. 이렇게 할 경우 프로그래머가 동기화에 대해 신경 쓸 수 없으며, 모니터에 있는 condition변수를 잘 사용할 경우 순서의 동기화도 지켜줄 수 있다.
    
    - **문제 2**
        
        ![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/f77d7a1c-bd05-4f32-aaee-c4f2fdaf935c/19bd8acd-7d7e-4b7c-a8a0-4d2711b2d587/Untitled.png)
        
        수빈 : 문제 멈춰 (미안하다 !!!! 이거 보여주려고 어그로 끌었다)
        
        - **문제 3**
            
            열 받아? ㅋㅋ
            
            ![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/f77d7a1c-bd05-4f32-aaee-c4f2fdaf935c/b0f58470-6339-4dd6-a855-19042fae77ac/Untitled.png)
            

### 문제 1의 정답

> SOL
> 

### 문제 2의 정답

> SOL
> 

### 문제 3의 정답

> SOL
>
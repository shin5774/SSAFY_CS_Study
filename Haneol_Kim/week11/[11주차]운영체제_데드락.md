# [운영체제] CHAPTER 8

### ⏰ 30 min ( 2 combo )

> 수빈이의 우리FIS 합격 기념으로 모인 연서,한얼,태현,권일,주원,수빈이는 늘 하던대로 보드게임 카페에 가기로 했다. 주원이가 이번에는 과연 꼴찌에서 탈출할 수 있을까?
> 

## First Combo

---

![암더보스](https://prod-files-secure.s3.us-west-2.amazonaws.com/2bdacfc4-1053-4ee1-a39b-62244cca102a/ec13105b-61fb-494d-ac69-d3433f575ed2/Untitled.png)

암더보스

![전략을 떠올린 주일이](https://prod-files-secure.s3.us-west-2.amazonaws.com/2bdacfc4-1053-4ee1-a39b-62244cca102a/5db16ca3-72a8-4d34-af2f-cdc6e390f1e8/Untitled.png)

전략을 떠올린 주일이

![고용카드(3장이 모이면 카드를 뺏어올 수 있다!)](https://prod-files-secure.s3.us-west-2.amazonaws.com/2bdacfc4-1053-4ee1-a39b-62244cca102a/5d8a6670-16eb-4b58-b1b1-509e2b2650ba/Untitled.png)

고용카드(3장이 모이면 카드를 뺏어올 수 있다!)

### 1 - 1. 첫번째 게임은 I’m the Boss로, 각 플레이어가 돌아가며 보스 역할을 하면서 정해진 배당금을 다같이 협상을 통해 분배하여 가장 많은 투자수익을 올리는 플레이어가 승리하는 게임이다. 주원이는 꼴찌만 피하기 위해, 또다른 꼴찌 유력 후보인 태현이만 견제하기로 전략을 세웠다. 주원이의 전략은 이렇다.

<aside>
💡 태현이가 현재 가지고 있는 “A” 카드를 뺏어올 것이다.
태현이의 “A”카드와 주원이가 현재 가지고 있는 “D” 카드 두 개를 가진 상태에서만 협상에 참여한다. 
태현이가 협상에 참여하면 무조건 협상을 망친다.

</aside>

### 그러나, 놀랍게도 태현이 역시 같은 생각이다. 태현이 역시 주원이만은 이긴다는 목적으로 다음과 같은 전략을 세웠다.

<aside>
💡 주원이가 현재 가지고 있는 “D” 카드를 뺏어올 것이다.
주원이의 “D” 카드와 태현이가 현재 가지고 있는 “A” 카드 두 개를 가진 상태에서만 협상에 참여한다.
주원이가 협상에 참여하면 무조건 협상을 망친다.

</aside>

### 한얼이는 현재 아임더보스에 고용카드(3장이 모이면 상대방의 카드를 뺏어올 수 있는 카드)가 총 10장이 있는 것을 알고 있고, 그 10장은 모두 한얼이의 손에 있다. 두 바보의 전략으로 생길 수 있는 문제가 있을까?

태현이와 주원이는 고용카드를 가지기 위해 무한정 턴을 넘기며 카드를 뽑지만 그 자원은 이미 한얼이의 손에 잡혀 있으므로 영원히 둘다 해당 전략을 사용할 수 없다.

> 
> 

### 1 - 2. 한얼이는 주원이와 태현이를 설득하기 위해 문제 상황에 대해 조금 더 구체적으로 말해주었다. 한편, 교착 상태를 열심히 공부한 권일이는, 지금의 논쟁은 모르겠고, 현상황을 교착 상태의 필요조건에 대응해서 우리에게 OS 지식을 뽐내고 싶다. 권일이는 어떻게 말했을까?

(단, 이 게임에서 일가족 카드는 없다고 가정한다.)

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/2bdacfc4-1053-4ee1-a39b-62244cca102a/77e1172c-8548-410f-a3a0-b585f8d51e66/Untitled.png)

### 영향력 카드 - **일가족 카드**

메인 카드인 투자자 카드가 없어도 일시적으로 해당 역할로 투자가 가능하다.

<aside>
🗣️ 한얼:

1. 주원이와 태현이는 동시에 협상에 참여할 수 없어.
2. 주원이와 태현이가 서로의 조건을 충족하지 못하면, 둘은 계속 대기해야 해.
3. 내가 고용카드를 끝까지 사용하지 않으면 주원이와 태현이는 서로의 투자자 카드를 뺏어올 수 없어.
4. 이러한 대기 상태가 계속 반복될 수 있고, “A”나 “D”카드가 없이 진행할 수 없는 협상이 있을 수 있어.
</aside>

상호배제 : 서로 같은 자원을 동시에 접근할 수 있다.

홀드엔 웨잇 : 한 자원을 점유한 상태로 해당 작업을 실시 할 수 없을 시 자원을 반납하지 않고 대기한다.

비선점 : 필요한 자원이 다른 스레드나 프로세스에 의해 사용중이면 해당 자원의 사용이 종료될때까지 기다린다.

순환 대기 : 이러한 요청과 할당의 그래프가 싸이클을 그리듯이 이루어져있어야 한다.

### 1 - 3. 하려던 게임은 못하고 논쟁만 길어지고 있다. 어서 이 논쟁을 끝내고 싶은 사람들이 하나 둘씩 자신의 해결책을 제시한다. 교착 상태 처리 방법에 이를 대응해보자.

<aside>
🔥 연서: 이렇게까지 해야돼? 그냥 하다가 망하면 끝내자
태현: 일가족 카드를 넣으면 한얼이형이 말한 조건이 성립하지 않게 되는 거 아니야?
권일: 그냥 다들 자기 카드 다 공개하고 문제가 안생기게 하자
수빈: 문제 상황인지 파악하고 문제가 있으면 그때 회복해보자

</aside>

> 
> 

방치 : 많은 운영체제에서 사용하는 방법으로 데드락이 발생하는것을 방치하고 문제가 생기면 그때가서 회복하는 것이다.

예방 : 예방의 경우 위에 있는 4가지 조건중 하나라도 만족을 하지 않는다면 발생하지 않게 된다. 즉 위의 방법중 하나를 만족안하게 하면 되는데 이는 현실적으로 매우 힘들거나 비효율 적이다.

간단한 예를 들어 상호배제를 사용하지 않게 되면 동기화의 문제가 생길 수 있다. 상호배제를 파괴할 일은 read only일 경우 즉 특별한 경우를 제외하고는 사용할 수 있다.

회피 : 데드락이 발생할 수 있는 자원 할당의 순서가 있다면 이를 방지하기 위해 대기하거나 순서를 찾는 것이다.

탐지 및 회복 : 탐지 후 회복으로 어떤 프로세스를 종료할 것인지, 프로세스는 어디까지 후퇴해야하는지 또는 비용의 문제로 항상 한 프로세스만 선택되는 것은 아닌지 고려해야한다. 

## **Second Combo**

---

### 2 - 1. 연서는 오늘 스터디에 빠진 수빈이에게 은행원 알고리즘을 설명해주고 싶다. 어떻게 설명해주면 좋을까?

은행원 알고리즘이란 자원의 인스턴스가 2개 이상일때 사용하는 알고리즘이다. 은행처럼 처리한다고 해서 은행원 알고리즘으로 사이클이 생기지 않는 순서로 자원을 분배하여 데드락 상태에 빠지지 않게 한다.

### 2 - 2.  연서의 열정적인 설명을 들은 수빈이는 곰곰이 생각해보니 은행원 알고리즘에 한계가 있는 것 같다. 어떠한 한계가 있을까?

은행원 알고리즘은 결국 데드락이 발생할 가능성이 있다면 할당을 중지하고 데드락이 발생하는 것을 회피하는 것이다. 여기서 중요한 점은 사이클이 발생할 수 있다고 해서 반드시 데드락이 발생하는 것은 아니다. 그러므로 즉 대기를 해야할 가능성이 생기며 이는 CPU사용율을 줄이는 결과를 발생하게 된다.
